DROP TABLE MEDICOS IF EXISTS;
CREATE TABLE MEDICOS(
	id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    apellidos VARCHAR(70) NOT NULL,
    ncol VARCHAR(30) NOT NULL,
    usuario VARCHAR(50) NOT NULL UNIQUE ,
    clave VARCHAR(50) NOT NULL,
	PRIMARY KEY (id)
);

DROP TABLE PACIENTES IF EXISTS;
CREATE TABLE PACIENTES(
	id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    apellidos VARCHAR(70) NOT NULL,
    direccion VARCHAR(100) NOT NULL,
    nns VARCHAR(30) NOT NULL,
    num_tarjeta VARCHAR(50) NOT NULL,
    telefono VARCHAR(20) NOT NULL,
    usuario VARCHAR(50) NOT NULL UNIQUE,
    clave VARCHAR(50) NOT NULL,
	PRIMARY KEY (id)
);

DROP TABLE CITAS IF EXISTS;
CREATE TABLE CITAS(
	id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	attr11 VARCHAR(50) NOT NULL,
	fechaHora TIMESTAMP NOT NULL,
	motivo VARCHAR(250) NOT NULL,
	medico INT NOT NULL,
	paciente INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (medico) REFERENCES MEDICOS(id),
	FOREIGN KEY (paciente) REFERENCES PACIENTES(id)
);

DROP TABLE DIAGNOSTICOS IF EXISTS;
CREATE TABLE DIAGNOSTICOS(
	id INT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    enfermedad VARCHAR(70) NOT NULL,
    valoracion VARCHAR(200) NOT NULL,
    cita_id INT NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (cita_id) REFERENCES CITAS(id)
);

DROP TABLE MEDICO_PACIENTE IF EXISTS;
CREATE TABLE MEDICO_PACIENTE(
    medico_id INT NOT NULL,
    paciente_id INT NOT NULL,
    PRIMARY KEY (medico_id,paciente_id)
);


INSERT INTO PACIENTES(NOMBRE,APELLIDOS,DIRECCION,NNS,NUM_TARJETA,TELEFONO,USUARIO,CLAVE)
VALUES ('Pepe','Ruiz Lopez', 'Juan Ramon Jimenez 18', '234523D44R', '5454345D', '611611611' ,'adrian10', 'ejemploaadepassword');
INSERT INTO PACIENTES(NOMBRE,APELLIDOS,DIRECCION,NNS,NUM_TARJETA,TELEFONO,USUARIO,CLAVE)
VALUES ('Adri','Covos Ludez', 'Maria Magdalena 28', '2312343F4', '1444345F', '601010601' ,'joselin22', 'ejemploadsesspassword');
INSERT INTO PACIENTES(NOMBRE,APELLIDOS,DIRECCION,NNS,NUM_TARJETA,TELEFONO,USUARIO,CLAVE)
VALUES ('Jose','Lopez Gutierrez', 'Picaso 8', '3646372FFS', '1354645D', '613613631' ,'adrijose', 'ejemplodeasdasdpasggsword');
INSERT INTO PACIENTES(NOMBRE,APELLIDOS,DIRECCION,NNS,NUM_TARJETA,TELEFONO,USUARIO,CLAVE)
VALUES ('Remedios','Taez Niñez', 'Vazquez ramon jimenez 18', '2436H73JHF', '0448265C', '615616617' ,'remedi0S', 'ejemplodeddasdssword');
INSERT INTO PACIENTES(NOMBRE,APELLIDOS,DIRECCION,NNS,NUM_TARJETA,TELEFONO,USUARIO,CLAVE)
VALUES ('Patricia','Ruiz Lopez', 'Carrusel 53', '014234H7T5', '5345665D', '614614614' ,'patricia22', 'ejemplodepasasdggrd');

INSERT INTO MEDICOS (NOMBRE,APELLIDOS,NCOL,USUARIO,CLAVE)
VALUES ('Santiago', 'Curez Pez', '2343243235523253', 'sintagocures23', 'conttraseñadieeficisdasaslderecordar');
INSERT INTO MEDICOS (NOMBRE,APELLIDOS,NCOL,USUARIO,CLAVE)
VALUES ('Cristian', 'Cuartero Rodiguez', '2348237023474', 'cuartero22', 'conttraseñfffffadifiegdcilderecordar');
INSERT INTO MEDICOS (NOMBRE,APELLIDOS,NCOL,USUARIO,CLAVE)
VALUES ('Maria', 'Cuesta Arquella', '2343423655473253', 'marcuesta', 'conttraseñadifdsssssficdfsilderecordar');
INSERT INTO MEDICOS (NOMBRE,APELLIDOS,NCOL,USUARIO,CLAVE)
VALUES ('Pablo', 'Merino Sanchez', '234445643322577', 'psanchez', 'conttraseñadifggicilderecordar');



